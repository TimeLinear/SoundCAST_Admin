<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<select id="selectMembers" resultMap="memberResultMap">
		SELECT
			*
		FROM MEMBER
		LEFT JOIN PROFILE_IMAGE ON MEMBER_PROFILE_IMAGE_NO = PROFILE_IMAGE_NO
		ORDER BY MEMBER_NO DESC
	</select>
	
	<resultMap id="memberResultMap" type="memberExt">
	    <id property="memberNo" column="member_no"/>
	    <result property="memberNickname" column="member_nickname"/>
	    <result property="memberEmail" column="member_email"/>
	    
	    <!-- ProfileImage 객체 매핑 -->
	    <association property="profileImage" javaType="profileImage">
	        <id property="profileImageNo" column="PROFILE_IMAGE_NO"/>
	        <result property="profileImagePath" column="PROFILE_IMAGE_PATH"/>
	    </association>
	</resultMap>
	
</mapper>